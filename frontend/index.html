<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astro Planner</title>
    <link rel="stylesheet" href="tron-theme.css">
    <link rel="stylesheet" href="css/unified-layout.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Mobile hamburger menu -->
        <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle menu">
            ‚ò∞
        </button>

        <!-- Left Sidebar (320px) -->
        <aside class="app-sidebar" id="app-sidebar">
            <div class="sidebar-content">
                <!-- Connection Panel (Always Visible) -->
                <div class="panel panel-connection" id="connection-panel">
                    <div class="panel-header">
                        <h3>Connection & Weather</h3>
                    </div>
                    <div class="panel-body">
                        <!-- Device Selection -->
                        <div class="form-group">
                            <label for="device-select">Device</label>
                            <select id="device-select" class="form-control">
                                <option value="">Select device...</option>
                            </select>
                        </div>

                        <!-- Connection Button -->
                        <button id="connect-btn" class="btn btn-primary" disabled>
                            Connect
                        </button>

                        <!-- Connection Status -->
                        <div class="connection-status" id="connection-status">
                            <span class="status-indicator disconnected"></span>
                            <span class="status-text">Disconnected</span>
                        </div>

                        <!-- Weather Conditions -->
                        <div class="weather-widget" id="weather-widget">
                            <div class="weather-header">
                                <span class="weather-icon">üå§Ô∏è</span>
                                <span class="weather-status">Loading weather...</span>
                            </div>
                            <div class="weather-details" id="weather-details">
                                <!-- Weather details populated by JS -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Discovery Workflow Section -->
                <div class="workflow-section" id="discovery-section">
                    <div class="workflow-header" data-workflow="discovery">
                        <span class="workflow-title">DISCOVERY</span>
                        <span class="workflow-chevron">‚ñº</span>
                    </div>
                    <div class="workflow-content">
                        <p>Discovery panels will go here</p>
                    </div>
                </div>

                <!-- Planning Workflow Section -->
                <div class="workflow-section collapsed" id="planning-section">
                    <div class="workflow-header" data-workflow="planning">
                        <span class="workflow-title">PLANNING</span>
                        <span class="workflow-chevron">‚ñ∂</span>
                    </div>
                    <div class="workflow-content">
                        <p>Planning panels will go here</p>
                    </div>
                </div>

                <!-- Execution Workflow Section -->
                <div class="workflow-section collapsed" id="execution-section">
                    <div class="workflow-header" data-workflow="execution">
                        <span class="workflow-title">EXECUTION</span>
                        <span class="workflow-chevron">‚ñ∂</span>
                    </div>
                    <div class="workflow-content">
                        <p>Execution panels will go here</p>
                    </div>
                </div>

                <!-- Processing Workflow Section -->
                <div class="workflow-section collapsed" id="processing-section">
                    <div class="workflow-header" data-workflow="processing">
                        <span class="workflow-title">PROCESSING</span>
                        <span class="workflow-chevron">‚ñ∂</span>
                    </div>
                    <div class="workflow-content">
                        <p>Processing panels will go here</p>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="app-main" id="app-main">
            <div class="main-content" id="main-content">
                <p>Main content will go here</p>
            </div>
        </main>

        <!-- Bottom Drawer -->
        <div class="app-drawer" id="app-drawer">
            <button class="drawer-toggle" id="drawer-toggle">
                Advanced Controls
            </button>
            <div class="drawer-content" id="drawer-content">
                <div class="drawer-header">
                    <h3>Advanced Controls</h3>
                    <button class="settings-btn" id="settings-btn" aria-label="Settings">‚öôÔ∏è</button>
                </div>
                <div class="drawer-tabs" id="drawer-tabs">
                    <p>Drawer tabs will go here</p>
                </div>
            </div>
        </div>

        <!-- Mobile backdrop -->
        <div class="mobile-backdrop" id="mobile-backdrop"></div>
    </div>

    <!-- Scripts -->
    <script src="js/app-state.js"></script>
    <script src="js/app-context.js"></script>
    <script src="js/connection-manager.js"></script>
    <script src="js/weather-widget.js"></script>
</body>
</html>
